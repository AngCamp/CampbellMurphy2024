# Sankey Plots for Sharp Wave Ripple Event Filtering

This folder contains code to generate Sankey diagrams visualizing the filtering pipeline for sharp wave ripple (SWR) events in real neural data.

## How the Code Works
- The main script (`filteringsankey_real_data.py`) processes event data from multiple datasets, applying a series of filters:
  1. **Sharp Wave Power Filter**: Removes events below a power threshold.
  2. **Movement Filter**: Removes events overlapping with movement.
  3. **Gamma Classification**: Splits events into those overlapping with gamma and those not, further subdivided by power range.
- The script aggregates statistics and builds a Sankey diagram using Plotly, with custom node/link colors and explicit node positions for clarity.
- Output images are saved as both PNG and SVG.

## Corrections and Improvements
- Switched from Matplotlib to Plotly for more flexible and visually clear Sankey diagrams.
- Explicit node positions (`x`, `y`) are set to avoid node overlap and improve readability.
- Colors and labels are carefully chosen for interpretability.

## Post-processing
- The SVG image generated by Plotly was further edited in Inkscape:
  - The diagram was **flipped** and visually adjusted.
  - This flipping could not be done programmatically and required manual editing in Inkscape. 